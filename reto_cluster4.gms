option optcr=0.0001;
option decimals=5;

set
i/1*22/
j/1*4/;

parameter
o(j)/
1   13.412602
2   7.959521
3   4.399306
4   10.228121

/

d(i)/
1   4.2
2   7.1
3   3.9
4   8.45
5   9.31
6   15.00
7   4.39
8   10.96
9   29.06
10  6.1
11  4.39
12  7.12
13  24.28
14  8.45
15  10.82
16  10.82
17  24.15
18  11.03
19  6.7
20  7.14
21  11.5
22  7.1
/;

table
c(i,j)
    1           2           3           4
1   46.11778618 52.48987829 44.10845724 50.65874671
2   47.68641837 54.2752483  45.6087449  52.38183333
3   35.0495175  39.8923075  33.5224275  38.5006475
4   58.4158625  66.48717917 55.8707125  64.16774583
5   60.43020259 68.77984052 57.79728879 66.38042672
6   52.70604135 59.98843233 50.40966541 57.89571053
7   60.01629709 68.30874572 57.40141695 65.92576627
8   64.31104128 73.1968945  61.50904128 70.64338991
9   109.5297422 124.6634609 104.7575859 120.3145234
10  41.97547006 47.77521856 40.14661976 46.10855988
11  58.22178987 66.26629153 55.68509551 63.95456395
12  70.099035   79.784615   67.044855   77.001295
13  85.48662805 97.29831098 81.76201829 93.90401829
14  77.88781667 88.64957222 74.49428333 85.55699444
15  68.72454412 78.22021078 65.73025    75.49146569
16  68.72454412 78.22021078 65.73025    75.49146569
17  85.48662805 97.29831098 81.76201829 93.90401829
18  67.40291827 76.71597596 64.46620673 74.03970673
19  53.10532955 60.44289015 50.79155682 58.33431439
20  46.73269    53.18974333 44.69657    51.33419667
21  58.9067521  67.04589496 56.34021429 64.70697059
22  47.68641837 54.2752483  45.6087449  52.38183333
;

variable
z;

binary variable
x(i,j);

equations
obj
r1
r2
r3;

obj.. z=E=sum((i,j),c(i,j)*x(i,j));
r1(j).. sum(i,x(i,j)*d(i))=G=o(j);
r2(j).. sum(i,x(i,j))=E=1;
r3(i).. sum(j,x(i,j))=L=1;

model reto4 /all/;
solve reto4 using MIP min z;